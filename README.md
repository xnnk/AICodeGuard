# AICodeGuard: AI é©±åŠ¨çš„ä»£ç å®‰å…¨ä¸ç”Ÿæˆå¹³å°

[![è¯­è¨€](https://img.shields.io/badge/language-Java-orange.svg)](https://www.java.com)
[![æ¡†æ¶](https://img.shields.io/badge/framework-Spring%20Boot-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![æ„å»ºå·¥å…·](https://img.shields.io/badge/build-Maven-red.svg)](https://maven.apache.org/)
æ¬¢è¿æ¥åˆ° AICodeGuardï¼æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº AI å¤§æ¨¡å‹çš„æ™ºèƒ½åº”ç”¨ï¼Œæ—¨åœ¨æä¾›ä»£ç ç”Ÿæˆã€ä»£ç å®‰å…¨æ¼æ´æ£€æµ‹ä»¥åŠçŸ¥è¯†å›¾è°±æ„å»ºä¸æŸ¥è¯¢ç­‰åŠŸèƒ½ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

* **ğŸ¤– AI ä»£ç ç”Ÿæˆ**:
    * æ”¯æŒé€šè¿‡ä¸å¤šç§ AI å¤§æ¨¡å‹ï¼ˆå¦‚ OpenAI GPT ç³»åˆ—ã€Anthropic Claude ç³»åˆ—ã€Deepseek ç­‰ï¼‰è¿›è¡Œäº¤äº’æ¥ç”Ÿæˆä»£ç ç‰‡æ®µæˆ–å®Œæ•´ç¨‹åºã€‚
    * æä¾›æµå¼ï¼ˆStreamingï¼‰å’Œéæµå¼å“åº”ã€‚
    * æ”¯æŒå¤šè½®å¯¹è¯ç®¡ç†ï¼Œä¿ç•™ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚
* **ğŸ›¡ï¸ ä»£ç å®‰å…¨æ‰«æ**:
    * åˆ©ç”¨ AI æ¨¡å‹åˆ†æä»£ç ï¼Œè¯†åˆ«æ½œåœ¨çš„å®‰å…¨æ¼æ´å’Œé£é™©ã€‚
    * ç”Ÿæˆæ¼æ´æŠ¥å‘Šï¼Œå¹¶å­˜å‚¨äº MongoDBã€‚
* **ğŸ•¸ï¸ çŸ¥è¯†å›¾è°±**:
    * æ„å»ºä»£ç æ¨¡å¼ã€æ¼æ´ä¿¡æ¯åŠå…¶å…³ç³»çš„çŸ¥è¯†å›¾è°±ï¼ˆä½¿ç”¨ Neo4jï¼‰ã€‚
    * æä¾›çŸ¥è¯†å›¾è°±æŸ¥è¯¢æ¥å£ï¼Œç”¨äºåˆ†æå’Œç†è§£ä»£ç ç»“æ„ä¸å®‰å…¨é—®é¢˜ã€‚
    * åŒ…å«å®šæ—¶ä»»åŠ¡ç»´æŠ¤çŸ¥è¯†å›¾è°±ã€‚
* **ğŸ‘¤ ç”¨æˆ·è®¤è¯ä¸æˆæƒ**:
    * åŸºäº Apache Shiro å’Œ JWT å®ç°ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€å¯†ç æ›´æ–°åŠŸèƒ½ã€‚
    * å®ç°åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰ï¼Œä¿æŠ¤ API æ¥å£ã€‚
* **ğŸ’¾ æ•°æ®æŒä¹…åŒ–**:
    * ä½¿ç”¨ MySQL å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ã€è§’è‰²ã€æƒé™ç­‰å…³ç³»å‹æ•°æ®ã€‚
    * ä½¿ç”¨ MongoDB å­˜å‚¨å¯¹è¯è®°å½•ã€ç”Ÿæˆçš„ä»£ç æ–‡æ¡£ã€æ¼æ´æŠ¥å‘Šç­‰éç»“æ„åŒ–æ•°æ®ã€‚
    * ä½¿ç”¨ Neo4j å­˜å‚¨çŸ¥è¯†å›¾è°±æ•°æ®ã€‚
    * ä½¿ç”¨ Redis è¿›è¡Œä¼šè¯ç¼“å­˜ç­‰ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

* **åç«¯**: Java, Spring Boot
* **æ•°æ®åº“**: MySQL, MongoDB, Neo4j, Redis
* **å®‰å…¨æ¡†æ¶**: Apache Shiro, JWT
* **AI é›†æˆ**:
    * [openai-java](https://github.com/TheoKanning/openai-java) (æˆ–ç±»ä¼¼ SDK)
    * [anthropic-sdk-java](https://github.com/anthropic-ai/anthropic-sdk-java) (æˆ–ç±»ä¼¼ SDK)
    * è‡ªå®šä¹‰ Deepseek API å®¢æˆ·ç«¯
* **æ„å»ºå·¥å…·**: Maven
* **å…¶ä»–**: Lombok, Spring Data JPA, Spring Data MongoDB, Spring Data Neo4j, Spring Data Redis, RestTemplate

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

* JDK 17 æˆ–æ›´é«˜ç‰ˆæœ¬
* Maven 3.6+
* MySQL 8.0+
* MongoDB 4.4+
* Neo4j 4.x+
* Redis 6.0+
* æœ‰æ•ˆçš„ OpenAI, Anthropic, Deepseek API å¯†é’¥ (å¦‚æœéœ€è¦ä½¿ç”¨å¯¹åº”çš„ AI æ¨¡å‹)

### 2. é…ç½®

* **æ•°æ®åº“é…ç½®**:
    * ä¿®æ”¹ `src/main/resources/application.yml` æ–‡ä»¶ï¼Œé…ç½® MySQL, MongoDB, Neo4j, Redis çš„è¿æ¥ä¿¡æ¯ï¼ˆåœ°å€ã€ç«¯å£ã€ç”¨æˆ·åã€å¯†ç ç­‰ï¼‰ã€‚
* **AI æ¨¡å‹é…ç½®**:
    * åœ¨ `application.yml` ä¸­é…ç½® `ai.models` éƒ¨åˆ†ï¼Œå¡«å…¥ä½ çš„ OpenAI, Anthropic, Deepseek çš„ API å¯†é’¥å’ŒåŸºç¡€ URL (å¦‚æœéœ€è¦ä»£ç†)ã€‚
    * ```yaml
      ai:
        models:
          openai:
            api-key: "sk-YOUR_OPENAI_API_KEY"
            base-url: "[https://api.openai.com/v1/](https://api.openai.com/v1/)" # æˆ–è€…ä½ çš„ä»£ç†åœ°å€
          claude:
            api-key: "YOUR_ANTHROPIC_API_KEY"
            base-url: "[https://api.anthropic.com/v1/](https://api.anthropic.com/v1/)" # æˆ–è€…ä½ çš„ä»£ç†åœ°å€
          deepseek:
            api-key: "sk-YOUR_DEEPSEEK_API_KEY"
            base-url: "[https://api.deepseek.com/](https://api.deepseek.com/)" # æˆ–è€…ä½ çš„ä»£ç†åœ°å€
      ```
* **JWT é…ç½®**:
    * åœ¨ `application.yml` ä¸­é…ç½® `shiro.jwt.secret`ï¼Œè®¾ç½®ä¸€ä¸ªå®‰å…¨çš„å¯†é’¥ã€‚
    * ```yaml
      shiro:
        jwt:
          secret: "YOUR_SECURE_JWT_SECRET" # æ›¿æ¢ä¸ºä¸€ä¸ªå¼ºéšæœºå¯†é’¥
          expire-time-in-minute: 60 # Token è¿‡æœŸæ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
      ```

### 3. æ•°æ®åº“åˆå§‹åŒ–

* è¿æ¥åˆ°ä½ çš„ MySQL æ•°æ®åº“ã€‚
* æ‰§è¡Œ `src/main/resources/static/sql.sql` æ–‡ä»¶ä¸­çš„ SQL è„šæœ¬ï¼Œåˆ›å»ºå¿…è¦çš„è¡¨å’Œåˆå§‹æ•°æ®ï¼ˆä¾‹å¦‚ç®¡ç†å‘˜ç”¨æˆ·ã€è§’è‰²ã€æƒé™ç­‰ï¼‰ã€‚

### 4. æ„å»ºä¸è¿è¡Œ

* **ä½¿ç”¨ Maven æ„å»º**:
    ```bash
    mvn clean install -DskipTests
    ```
* **è¿è¡Œåº”ç”¨**:
    ```bash
    java -jar target/aicodeguard-*.jar
    ```
    æˆ–è€…åœ¨ä½ çš„ IDE ä¸­ç›´æ¥è¿è¡Œ `com.ai.aicodeguard.AiCodeGuardApplication` ç±»ã€‚

### 5. è®¿é—®åº”ç”¨

åº”ç”¨å¯åŠ¨åï¼Œå¯ä»¥é€šè¿‡ API å·¥å…·ï¼ˆå¦‚ Postman, Insomniaï¼‰æˆ–è‡ªå®šä¹‰å‰ç«¯è®¿é—®ä»¥ä¸‹ä¸»è¦ç«¯ç‚¹ï¼š

* **è®¤è¯**: `/api/auth/register`, `/api/auth/login`, `/api/auth/update-password`
* **ä»£ç ç”Ÿæˆ**: `/api/codegen/generate`, `/api/codegen/generate-stream`
* **å¯¹è¯ç®¡ç†**: `/api/conversation/create`, `/api/conversation/{conversationId}/send`, `/api/conversation/{conversationId}/send-stream`
* **ä»£ç å®‰å…¨**: `/api/security/scan` (å…·ä½“ç«¯ç‚¹å¯èƒ½éœ€è¦æŸ¥çœ‹ `CodeSecurityController`)
* **çŸ¥è¯†å›¾è°±**: `/api/graph/query` (å…·ä½“ç«¯ç‚¹å¯èƒ½éœ€è¦æŸ¥çœ‹ `KnowledgeGraphController`)
* **ç”¨æˆ·ç®¡ç†**: `/api/users/...` (å…·ä½“ç«¯ç‚¹å¯èƒ½éœ€è¦æŸ¥çœ‹ `UserController`)

*æ³¨æ„*: å¤§éƒ¨åˆ†æ¥å£éœ€è¦é€šè¿‡ç™»å½•è·å– JWT Tokenï¼Œå¹¶åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ `Authorization: Bearer <YOUR_TOKEN>`ã€‚

## ğŸ“š æŠ€æœ¯æ–‡æ¡£

é¡¹ç›®åŒ…å«è¯¦ç»†çš„æŠ€æœ¯è®¾è®¡æ–‡æ¡£ï¼Œä½äº `TechnicalDetails` ç›®å½•ä¸‹ï¼Œæ¶µç›–äº†è®¤è¯ã€ä»£ç ç”Ÿæˆã€çŸ¥è¯†å›¾è°±ç­‰æ¨¡å—çš„è®¾è®¡æ€è·¯å’Œå®ç°ç»†èŠ‚ã€‚

* `TechnicalDetails/auth.md`, `auth_2.md`: è®¤è¯æˆæƒè®¾è®¡ã€‚
* `TechnicalDetails/code_generation.md`, `code_generation_2.md`: ä»£ç ç”Ÿæˆæµç¨‹ã€‚
* `TechnicalDetails/code-guard.md`, `code-guard-graph.md`: ä»£ç å®‰å…¨ä¸çŸ¥è¯†å›¾è°±è®¾è®¡ã€‚
* `TechnicalDetails/openai-java-README.md`, `anthropic-sdk-java-README.md`: ä½¿ç”¨çš„ AI SDK ç›¸å…³ä¿¡æ¯ã€‚

## ğŸ”­ æœªæ¥å±•æœ›

é¡¹ç›®æœªæ¥çš„å‘å±•æ–¹å‘å¯èƒ½åŒ…æ‹¬ï¼š

* æ›´æ™ºèƒ½çš„ä»£ç æ¼æ´ä¿®å¤å»ºè®®ã€‚
* æ”¯æŒæ›´å¤šç¼–ç¨‹è¯­è¨€çš„ä»£ç ç”Ÿæˆå’Œå®‰å…¨æ‰«æã€‚
* é›†æˆé™æ€ä»£ç åˆ†æå·¥å…· (SAST)ã€‚
* ä¼˜åŒ–çŸ¥è¯†å›¾è°±çš„æ„å»ºå’ŒæŸ¥è¯¢æ•ˆç‡ã€‚
* å¼€å‘æ›´å®Œå–„çš„å‰ç«¯ç”¨æˆ·ç•Œé¢ã€‚
* å¢å¼º AI æ¨¡å‹çš„å¾®è°ƒèƒ½åŠ›ã€‚

## ğŸ™Œ è´¡çŒ®

æ¬¢è¿å¯¹ AICodeGuard é¡¹ç›®åšå‡ºè´¡çŒ®ï¼ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å‚ä¸ï¼š

1.  æŠ¥å‘Š Bug æˆ–æå‡ºåŠŸèƒ½å»ºè®®ï¼šåœ¨ GitHub Issues ä¸­åˆ›å»ºæ–°çš„ issueã€‚
2.  æäº¤ä»£ç ï¼šFork æœ¬ä»“åº“ï¼Œåˆ›å»ºæ–°çš„åˆ†æ”¯è¿›è¡Œå¼€å‘ï¼Œç„¶åæäº¤ Pull Requestã€‚

è¯·ç¡®ä¿éµå¾ªè‰¯å¥½çš„ç¼–ç è§„èŒƒå’Œæäº¤ä¿¡æ¯æ ¼å¼ã€‚

## ğŸ“„ è®¸å¯è¯

[è¯·åœ¨æ­¤å¤„æ·»åŠ ä½ çš„å¼€æºè®¸å¯è¯ä¿¡æ¯ï¼Œä¾‹å¦‚ MIT, Apache 2.0 ç­‰]

---

*è¿™ä¸ª README æ–‡ä»¶æ˜¯æ ¹æ®é¡¹ç›®ä»£ç å’Œæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆçš„ã€‚*
